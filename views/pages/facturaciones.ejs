<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description"
        content="Responsive Bootstrap4 Shop Template, Created by Imran Hossain from https://imransdesign.com/">

    <!-- title -->
    <title>Facturas</title>

    <!-- favicon -->
    <link rel="shortcut icon" type="image/png" href="assets/img/logo2.png">
    <!-- google font -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap" rel="stylesheet">
    <!-- fontawesome -->
    <link rel="stylesheet" href="assets/css/all.min.css">
    <!-- bootstrap -->
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <!-- owl carousel -->
    <link rel="stylesheet" href="assets/css/owl.carousel.css">
    <!-- magnific popup -->
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <!-- animate css -->
    <link rel="stylesheet" href="assets/css/animate.css">
    <!-- mean menu css -->
    <link rel="stylesheet" href="assets/css/meanmenu.min.css">
    <!-- main style -->
    <link rel="stylesheet" href="assets/css/main.css">
    <!-- responsive -->
    <link rel="stylesheet" href="assets/css/responsive.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


</head>

<style>
    table {
        width: 100%;
        border-collapse: collapse;
        margin-bottom: 20px;
    }

    th,
    td {
        border: 1px solid #ddd;
        padding: 8px;
    }

    th {
        background-color: #fa9643;
        text-align: center;
    }

    .table-title {
        text-align: center;
        font-size: 1.5rem;
        font-weight: bold;
        background-color: #fa9643;
    }

    .total-row {
        font-weight: bold;
    }

    td[contenteditable="true"] {
        background-color: #f9f9f9;
    }

    .contact-form button {
        background-color: #fa9643;
        color: rgb(0, 0, 0);
        border: none;
        padding: 10px 30px;
        border-radius: 50px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .contact-form button:active {
        background-color: black;
        color: #fa9643;
    }

    .action-icons {
        display: flex;
        justify-content: space-between;
        width: 100%;
        margin-bottom: 20px;
    }

    .action-icons i {
        cursor: pointer;
        font-size: 1.5rem;
    }

    .action-icons .trash {
        color: rgb(247, 67, 67);
    }

    .action-icons .check {
        color: rgb(28, 240, 28);
    }

    .custom-checkbox {
        position: relative;
        display: inline-block;
        width: 20px;
        height: 20px;
    }

    .custom-checkbox input[type="checkbox"] {
        opacity: 0;
        width: 0;
        height: 0;
    }

    .custom-checkbox label {
        position: absolute;
        cursor: pointer;
        width: 20px;
        height: 20px;
        background-color: #f3f3f3;
        border: 2px solid #ddd;
        border-radius: 3px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .custom-checkbox input:checked+label {
        background-color: #e4f9e4;
        border-color: #28c76f;
    }

    .custom-checkbox input:checked+label::after {
        content: "\f00c";
        font-family: "Font Awesome 5 Free";
        font-weight: 900;
        color: #28c76f;
        font-size: 14px;
    }
</style>

<body>

    <%- include('../components/headerDos', { user: user }) %>

        <div class="breadcrumb-section breadcrumb-bg" style="background-image: url('assets/img/bg.jpg');">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 offset-lg-2 text-center">
                        <div class="breadcrumb-text">
                            <p></p>
                            <h1>Facturas</h1>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="container py-5">
            <div class="row">

            </div>
            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>RFC</th>
                        <th>Ver Detalles</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <% if (facturaciones && facturaciones.length> 0) { %>
                        <% facturaciones.forEach(facturacion=> { %>
                            <tr>
                                <td style="width: 2%; padding: 0.5rem; font-size: 1rem;">
                                    <form action="/facturaciones/<%= facturacion.id %>/eliminar" method="POST"
                                        style="display: inline;">
                                        <button type="submit" style="background: none; border: none; cursor: pointer;">
                                            <i class="fas fa-trash" style="color: red;"></i>
                                        </button>
                                    </form>
                                </td>

                                <td style="width: 40%; padding: 0.5rem; font-size: 1rem;">
                                    <%= facturacion.rfc %>
                                </td>

                                <td style="width: 20%; padding: 0.5rem; font-size: 1rem;">
                                    <a href="/facturaciones/<%= facturacion.id %>">Ver Detalles</a>
                                </td>

                                <td style="width: 2%; padding: 0.5rem; font-size: 1rem; text-align: center;">
                                    <form action="/facturaciones/<%= facturacion.id %>/realizar" method="POST"
                                        style="display: inline;">
                                        <input type="checkbox" name="realizada" <%=facturacion.realizada
                                            ? 'checked disabled' : '' %> onchange="this.form.submit()">
                                    </form>
                                </td>
                            </tr>
                            <% }) %>
                                <% } else { %>
                                    <tr>
                                        <td colspan="3">No se encontraron facturaciones</td>
                                    </tr>
                                    <% } %>
                </tbody>
            </table>


        </div>

</body>

<!-- Footer -->
<%- include('../components/footer') %>
    <!-- End Footer -->

    <!-- JavaScript Libraries -->
    <script src="assets/js/jquery-1.11.3.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.countdown.js"></script>
    <script src="assets/js/jquery.isotope-3.0.6.min.js"></script>
    <script src="assets/js/waypoints.js"></script>
    <script src="assets/js/owl.carousel.min.js"></script>
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <script src="assets/js/jquery.meanmenu.min.js"></script>
    <script src="assets/js/sticker.js"></script>
    <script src="assets/js/main.js"></script>

</html>